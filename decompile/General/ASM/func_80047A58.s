.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */
.include "macro.inc"
glabel func_80047A58
/* 35678 80047A58 D8FFBD27 */  addiu      $sp, $sp, -0x28
/* 3567C 80047A5C 0A80073C */  lui        $a3, %hi(D_8009AA30)
/* 35680 80047A60 30AAE48C */  lw         $a0, %lo(D_8009AA30)($a3)
/* 35684 80047A64 FFFF0524 */  addiu      $a1, $zero, -0x1
/* 35688 80047A68 1800B0AF */  sw         $s0, 0x18($sp)
/* 3568C 80047A6C 30AAF024 */  addiu      $s0, $a3, %lo(D_8009AA30)
/* 35690 80047A70 2000BFAF */  sw         $ra, 0x20($sp)
/* 35694 80047A74 01008230 */  andi       $v0, $a0, 0x1
/* 35698 80047A78 3D004010 */  beqz       $v0, .L80047B70
/* 3569C 80047A7C 1C00B1AF */   sw        $s1, 0x1C($sp)
/* 356A0 80047A80 FEFF0224 */  addiu      $v0, $zero, -0x2
/* 356A4 80047A84 24308200 */  and        $a2, $a0, $v0
/* 356A8 80047A88 06000896 */  lhu        $t0, 0x6($s0)
/* 356AC 80047A8C 08000396 */  lhu        $v1, 0x8($s0)
/* 356B0 80047A90 02008230 */  andi       $v0, $a0, 0x2
/* 356B4 80047A94 30AAE6AC */  sw         $a2, %lo(D_8009AA30)($a3)
/* 356B8 80047A98 0E0008A6 */  sh         $t0, 0xE($s0)
/* 356BC 80047A9C 04004014 */  bnez       $v0, .L80047AB0
/* 356C0 80047AA0 100003A6 */   sh        $v1, 0x10($s0)
/* 356C4 80047AA4 FBFF0224 */  addiu      $v0, $zero, -0x5
/* 356C8 80047AA8 2410C200 */  and        $v0, $a2, $v0
/* 356CC 80047AAC 30AAE2AC */  sw         $v0, %lo(D_8009AA30)($a3)
.L80047AB0:
/* 356D0 80047AB0 FFFF0225 */  addiu      $v0, $t0, -0x1
/* 356D4 80047AB4 00140200 */  sll        $v0, $v0, 16
/* 356D8 80047AB8 031C0200 */  sra        $v1, $v0, 16
/* 356DC 80047ABC 0500622C */  sltiu      $v0, $v1, 0x5
/* 356E0 80047AC0 36004010 */  beqz       $v0, .L80047B9C
/* 356E4 80047AC4 0180023C */   lui       $v0, %hi(jtbl_80011678_ctr)
/* 356E8 80047AC8 78164224 */  addiu      $v0, $v0, %lo(jtbl_80011678_ctr)
/* 356EC 80047ACC 80180300 */  sll        $v1, $v1, 2
/* 356F0 80047AD0 21186200 */  addu       $v1, $v1, $v0
/* 356F4 80047AD4 0000628C */  lw         $v0, 0x0($v1)
/* 356F8 80047AD8 00000000 */  nop
/* 356FC 80047ADC 08004000 */  jr         $v0
/* 35700 80047AE0 00000000 */   nop
/* 35704 80047AE4 08000486 */  lh         $a0, 0x8($s0)
/* 35708 80047AE8 8EF8000C */  jal        MEMCARD_GetInfo
/* 3570C 80047AEC 00000000 */   nop
/* 35710 80047AF0 E71E0108 */  j          .L80047B9C
/* 35714 80047AF4 21284000 */   addu      $a1, $v0, $zero
/* 35718 80047AF8 1800058E */  lw         $a1, 0x18($s0)
/* 3571C 80047AFC 1C00068E */  lw         $a2, 0x1C($s0)
/* 35720 80047B00 2000078E */  lw         $a3, 0x20($s0)
/* 35724 80047B04 1400A0AF */  sw         $zero, 0x14($sp)
/* 35728 80047B08 24000286 */  lh         $v0, 0x24($s0)
/* 3572C 80047B0C 08000486 */  lh         $a0, 0x8($s0)
/* 35730 80047B10 D1F8000C */  jal        MEMCARD_Save
/* 35734 80047B14 1000A2AF */   sw        $v0, 0x10($sp)
/* 35738 80047B18 E71E0108 */  j          .L80047B9C
/* 3573C 80047B1C 21284000 */   addu      $a1, $v0, $zero
/* 35740 80047B20 1800058E */  lw         $a1, 0x18($s0)
/* 35744 80047B24 2000068E */  lw         $a2, 0x20($s0)
/* 35748 80047B28 1000A0AF */  sw         $zero, 0x10($sp)
/* 3574C 80047B2C 08000486 */  lh         $a0, 0x8($s0)
/* 35750 80047B30 24000786 */  lh         $a3, 0x24($s0)
/* 35754 80047B34 A7F8000C */  jal        MEMCARD_Load
/* 35758 80047B38 00000000 */   nop
/* 3575C 80047B3C E71E0108 */  j          .L80047B9C
/* 35760 80047B40 21284000 */   addu      $a1, $v0, $zero
/* 35764 80047B44 08000486 */  lh         $a0, 0x8($s0)
/* 35768 80047B48 47F9000C */  jal        DECOMP_MEMCARD_Format
/* 3576C 80047B4C 00000000 */   nop
/* 35770 80047B50 E71E0108 */  j          .L80047B9C
/* 35774 80047B54 21284000 */   addu      $a1, $v0, $zero
/* 35778 80047B58 08000486 */  lh         $a0, 0x8($s0)
/* 3577C 80047B5C 1800058E */  lw         $a1, 0x18($s0)
/* 35780 80047B60 B5F9000C */  jal        DECOMP_MEMCARD_EraseFile
/* 35784 80047B64 00000000 */   nop
/* 35788 80047B68 E71E0108 */  j          .L80047B9C
/* 3578C 80047B6C 21284000 */   addu      $a1, $v0, $zero
.L80047B70:
/* 35790 80047B70 06000286 */  lh         $v0, 0x6($s0)
/* 35794 80047B74 00000000 */  nop
/* 35798 80047B78 08004010 */  beqz       $v0, .L80047B9C
/* 3579C 80047B7C 00000000 */   nop
/* 357A0 80047B80 6BF7000C */  jal        func_8003DDAC
/* 357A4 80047B84 00000000 */   nop
/* 357A8 80047B88 06000396 */  lhu        $v1, 0x6($s0)
/* 357AC 80047B8C 08000496 */  lhu        $a0, 0x8($s0)
/* 357B0 80047B90 21284000 */  addu       $a1, $v0, $zero
/* 357B4 80047B94 0E0003A6 */  sh         $v1, 0xE($s0)
/* 357B8 80047B98 100004A6 */  sh         $a0, 0x10($s0)
.L80047B9C:
/* 357BC 80047B9C 06000386 */  lh         $v1, 0x6($s0)
/* 357C0 80047BA0 01000224 */  addiu      $v0, $zero, 0x1
/* 357C4 80047BA4 2E006214 */  bne        $v1, $v0, .L80047C60
/* 357C8 80047BA8 00140500 */   sll       $v0, $a1, 16
/* 357CC 80047BAC 03140200 */  sra        $v0, $v0, 16
/* 357D0 80047BB0 03000324 */  addiu      $v1, $zero, 0x3
/* 357D4 80047BB4 2A004314 */  bne        $v0, $v1, .L80047C60
/* 357D8 80047BB8 00140500 */   sll       $v0, $a1, 16
/* 357DC 80047BBC 21880000 */  addu       $s1, $zero, $zero
/* 357E0 80047BC0 0880053C */  lui        $a1, %hi(D_80085A44)
/* 357E4 80047BC4 08000486 */  lh         $a0, 0x8($s0)
/* 357E8 80047BC8 445AA524 */  addiu      $a1, $a1, %lo(D_80085A44)
/* 357EC 80047BCC 80F9000C */  jal        MEMCARD_FindFirstGhost
/* 357F0 80047BD0 2C0000A6 */   sh        $zero, 0x2C($s0)
/* 357F4 80047BD4 21284000 */  addu       $a1, $v0, $zero
/* 357F8 80047BD8 1500A010 */  beqz       $a1, .L80047C30
/* 357FC 80047BDC 00141100 */   sll       $v0, $s1, 16
.L80047BE0:
/* 35800 80047BE0 031C0200 */  sra        $v1, $v0, 16
/* 35804 80047BE4 07006228 */  slti       $v0, $v1, 0x7
/* 35808 80047BE8 0C004010 */  beqz       $v0, .L80047C1C
/* 3580C 80047BEC 40200300 */   sll       $a0, $v1, 1
/* 35810 80047BF0 21208300 */  addu       $a0, $a0, $v1
/* 35814 80047BF4 80200400 */  sll        $a0, $a0, 2
/* 35818 80047BF8 21208300 */  addu       $a0, $a0, $v1
/* 3581C 80047BFC 80200400 */  sll        $a0, $a0, 2
/* 35820 80047C00 30008424 */  addiu      $a0, $a0, 0x30
/* 35824 80047C04 0D1C010C */  jal        RefreshCard_GhostDecodeProfile
/* 35828 80047C08 21200402 */   addu      $a0, $s0, $a0
/* 3582C 80047C0C 2C000296 */  lhu        $v0, 0x2C($s0)
/* 35830 80047C10 00000000 */  nop
/* 35834 80047C14 01004224 */  addiu      $v0, $v0, 0x1
/* 35838 80047C18 2C0002A6 */  sh         $v0, 0x2C($s0)
.L80047C1C:
/* 3583C 80047C1C 9EF9000C */  jal        MEMCARD_FindNextGhost
/* 35840 80047C20 01003126 */   addiu     $s1, $s1, 0x1
/* 35844 80047C24 21284000 */  addu       $a1, $v0, $zero
/* 35848 80047C28 EDFFA014 */  bnez       $a1, .L80047BE0
/* 3584C 80047C2C 00141100 */   sll       $v0, $s1, 16
.L80047C30:
/* 35850 80047C30 08000486 */  lh         $a0, 0x8($s0)
/* 35854 80047C34 1800058E */  lw         $a1, 0x18($s0)
/* 35858 80047C38 67F9000C */  jal        DECOMP_MEMCARD_IsFile
/* 3585C 80047C3C 00000000 */   nop
/* 35860 80047C40 08000486 */  lh         $a0, 0x8($s0)
/* 35864 80047C44 0000028E */  lw         $v0, 0x0($s0)
/* 35868 80047C48 1800058E */  lw         $a1, 0x18($s0)
/* 3586C 80047C4C 08004234 */  ori        $v0, $v0, 0x8
/* 35870 80047C50 67F9000C */  jal        DECOMP_MEMCARD_IsFile
/* 35874 80047C54 000002AE */   sw        $v0, 0x0($s0)
/* 35878 80047C58 21284000 */  addu       $a1, $v0, $zero
/* 3587C 80047C5C 00140500 */  sll        $v0, $a1, 16
.L80047C60:
/* 35880 80047C60 031C0200 */  sra        $v1, $v0, 16
/* 35884 80047C64 0800622C */  sltiu      $v0, $v1, 0x8
/* 35888 80047C68 28004010 */  beqz       $v0, .L80047D0C
/* 3588C 80047C6C 0180023C */   lui       $v0, %hi(jtbl_80011690_ctr)
/* 35890 80047C70 90164224 */  addiu      $v0, $v0, %lo(jtbl_80011690_ctr)
/* 35894 80047C74 80180300 */  sll        $v1, $v1, 2
/* 35898 80047C78 21186200 */  addu       $v1, $v1, $v0
/* 3589C 80047C7C 0000628C */  lw         $v0, 0x0($v1)
/* 358A0 80047C80 00000000 */  nop
/* 358A4 80047C84 08004000 */  jr         $v0
/* 358A8 80047C88 00000000 */   nop
/* 358AC 80047C8C 06000386 */  lh         $v1, 0x6($s0)
/* 358B0 80047C90 01000224 */  addiu      $v0, $zero, 0x1
/* 358B4 80047C94 18006214 */  bne        $v1, $v0, .L80047CF8
/* 358B8 80047C98 07000224 */   addiu     $v0, $zero, 0x7
/* 358BC 80047C9C 0000028E */  lw         $v0, 0x0($s0)
/* 358C0 80047CA0 00000000 */  nop
/* 358C4 80047CA4 08004230 */  andi       $v0, $v0, 0x8
/* 358C8 80047CA8 13004014 */  bnez       $v0, .L80047CF8
/* 358CC 80047CAC 04000224 */   addiu     $v0, $zero, 0x4
/* 358D0 80047CB0 3E1F0108 */  j          .L80047CF8
/* 358D4 80047CB4 07000224 */   addiu     $v0, $zero, 0x7
/* 358D8 80047CB8 3E1F0108 */  j          .L80047CF8
/* 358DC 80047CBC 02000224 */   addiu     $v0, $zero, 0x2
/* 358E0 80047CC0 040000A6 */  sh         $zero, 0x4($s0)
/* 358E4 80047CC4 431F0108 */  j          .L80047D0C
/* 358E8 80047CC8 060000A6 */   sh        $zero, 0x6($s0)
/* 358EC 80047CCC 06000386 */  lh         $v1, 0x6($s0)
/* 358F0 80047CD0 04000224 */  addiu      $v0, $zero, 0x4
/* 358F4 80047CD4 08006214 */  bne        $v1, $v0, .L80047CF8
/* 358F8 80047CD8 03000224 */   addiu     $v0, $zero, 0x3
/* 358FC 80047CDC 3E1F0108 */  j          .L80047CF8
/* 35900 80047CE0 07000224 */   addiu     $v0, $zero, 0x7
/* 35904 80047CE4 3E1F0108 */  j          .L80047CF8
/* 35908 80047CE8 01000224 */   addiu     $v0, $zero, 0x1
/* 3590C 80047CEC 3E1F0108 */  j          .L80047CF8
/* 35910 80047CF0 06000224 */   addiu     $v0, $zero, 0x6
/* 35914 80047CF4 05000224 */  addiu      $v0, $zero, 0x5
.L80047CF8:
/* 35918 80047CF8 040002A6 */  sh         $v0, 0x4($s0)
/* 3591C 80047CFC 431F0108 */  j          .L80047D0C
/* 35920 80047D00 060000A6 */   sh        $zero, 0x6($s0)
/* 35924 80047D04 08000224 */  addiu      $v0, $zero, 0x8
/* 35928 80047D08 040002A6 */  sh         $v0, 0x4($s0)
.L80047D0C:
/* 3592C 80047D0C 06000286 */  lh         $v0, 0x6($s0)
/* 35930 80047D10 00000000 */  nop
/* 35934 80047D14 0E004014 */  bnez       $v0, .L80047D50
/* 35938 80047D18 00000000 */   nop
/* 3593C 80047D1C 0A000286 */  lh         $v0, 0xA($s0)
/* 35940 80047D20 0A000496 */  lhu        $a0, 0xA($s0)
/* 35944 80047D24 0A004010 */  beqz       $v0, .L80047D50
/* 35948 80047D28 00000000 */   nop
/* 3594C 80047D2C 0C000296 */  lhu        $v0, 0xC($s0)
/* 35950 80047D30 0000038E */  lw         $v1, 0x0($s0)
/* 35954 80047D34 060004A6 */  sh         $a0, 0x6($s0)
/* 35958 80047D38 0A0000A6 */  sh         $zero, 0xA($s0)
/* 3595C 80047D3C 01006334 */  ori        $v1, $v1, 0x1
/* 35960 80047D40 080002A6 */  sh         $v0, 0x8($s0)
/* 35964 80047D44 FDFF0224 */  addiu      $v0, $zero, -0x3
/* 35968 80047D48 24186200 */  and        $v1, $v1, $v0
/* 3596C 80047D4C 000003AE */  sw         $v1, 0x0($s0)
.L80047D50:
/* 35970 80047D50 2000BF8F */  lw         $ra, 0x20($sp)
/* 35974 80047D54 1C00B18F */  lw         $s1, 0x1C($sp)
/* 35978 80047D58 1800B08F */  lw         $s0, 0x18($sp)
/* 3597C 80047D5C 0800E003 */  jr         $ra
/* 35980 80047D60 2800BD27 */   addiu     $sp, $sp, 0x28
.size func_80047A58, . - func_80047A58
